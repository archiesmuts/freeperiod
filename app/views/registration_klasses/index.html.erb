<% content_for :title do %>fp List of Classes<% end %>
<div class="mt-1">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <%= link_to @school do %>
          <%= fa_icon "arrow-left", text: "School home" %>
        <% end %>
      </li>
      <li class="breadcrumb-item active" aria-current="page">Registration and Subject Classes</li>
    </ol>
  </nav>
</div>
<!-- .nav.breadcrumb -->
<div class="row">
  <div class="col-md-8 col-xl-7 offset-xl-1">
    <h1>Faculty, Registration and Subject Classes</h1>
    <p class="py-2">
      <%= link_to new_school_registration_klass_path(@school), class: "btn btn-lg btn-primary btn-block-xs" do %>
      <%= fa_icon("plus", text: "Add a New Class") %>
      <% end %>
    </p>
  </div>
    <div class="col-md-4">
      <form class="form-inline">
        <div class="form-group">
          <input class="form-control my-2 mr-sm-2" type="search" placeholder="Type to filter list" aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </div>
      </form>
    </div>
</div>
<!-- .row -->
<div class="row">
  <div class="col-xl-10 offset-xl-1">
    <table class="table table-bordered table-hover">
      <thead class="bg-dark">
        <tr>
          <th scope="col">Faculty, Administration & Class</th>
          <th scope="col">Registration Type</th>
          <th scope="col"><%= fa_icon("users") %></th>
          <th scope="col">Grade & Subject</th>
          <th scope="col">Year</th>
          <th scope="col" colspan="2"></th>
        </tr>
      </thead>
      <tbody id="list-registration-klasses">
        <% @school.registration_klasses.each do |registration_klass| %>
          <tr>
            <th scope="row"><%= registration_klass.name %></th>
            <td><%= registration_klass.klass_type.humanize %></td>
            <td class="text-right"><%= registration_klass.learners.size %></td>
            <td><%= registration_klass.course.name %></td>
            <td><%= registration_klass.year.strftime("%Y") %></td>
            <td>
              <%= link_to [registration_klass.school, registration_klass], class: "btn btn-sm btn-primary" do %>
                <%= fa_icon("angle-double-right", text: "Show", right: true) %>
              <% end %>
            </td>
            <td>
              <%= link_to  [registration_klass.school, registration_klass],
                method: :delete,
                data: { title: 'Are you sure you want to delete this record?',
                        confirm: 'Warning! This action is destructive. It will also delete all associated data etc.',
                        verify: 'YES', verify_text: 'Type "YES" to confirm'},
                class: "btn btn-sm btn-danger" do %>
                <%= fa_icon("trash", text: "Delete") %>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <!-- table -->
  </div>
  <!-- .col-xl-10 -->
</div>
<!-- .row -->
<!-- modal dialog for creating registration classes -->
<!-- form via modal_dialog  -->
<%= render "modal_dialog" %>
