<div class="container">
  <div class="row">
    <div class="col-sm-6">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title"><%= @school.name %></h4>
          <p class="card-text">Other school stuff.</p>
          <div class="d-flex justify-content-between">
            <div>
              <%= link_to current_user, class: "btn btn-sm btn-outline-primary" do %>
                <%= fa_icon "smile-o" %>&nbsp;Back to my page
              <% end %>
            </div>
            <div>
              <%= link_to 'Edit details', edit_school_path(@school), class: "btn btn-sm btn-primary" %>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-sm-6">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Special title treatment</h4>
          <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>

          <a href="#" class="btn btn-sm btn-primary">Go somewhere</a>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Staff and Students TODO move list to memberships#index</h4>
          <!--  TODO move list to memberships#index  to clean up schools#show view -->
          <%= link_to "View all registered users", school_memberships_path(@school), class: "btn btn-primary btn-sm" %>

        </div>
      </div>
    </div>
      <!-- TODO check why there is this error when resending an invitation to an exisiting unconfirmed user
        Error performing ActionMailer::DeliveryJob
        (Job ID: ......) from Async(mailers)
        NoMethodError (undefined method `email' for nil:NilClass):
      -->
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Invite someone</h4>

        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Classes TODO Move this to registration_klasses/#index</h4>
          <!--  TODO Move list of classes to registration_klasses/#index to clean up schools/#show view -->
          <p class="card-text">description about classes.</p>
          <div id="list-registration-klasses" class="list-group">
            <% if @school.registration_klasses.any? %>
              <%= render @school.registration_klasses %>
            <% else %>
              <a href="#" class="list-group-item list-group-item-action list-group-item-info nothing-to-list">Nothing to List</a>
            <% end %>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Classes</h4>
          <p class="card-text">description about classes.</p>
          <!-- check if current_user is admin -->
          <%# if current_user.has_role?(:admin) %>
              <%= link_to new_school_registration_klass_path(@school), remote: true, class: "btn btn-primary btn-sm" do %>
                <%= fa_icon "plus-square" %>&nbsp;Create a new class
              <% end %>
          <%# end %>
          <div class="collapse" id="add-registration-klass-form">
            <p><%= render "registration_klasses/new_form" %></p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div> <!-- .container -->
<%= render "registration_klasses/modal_dialog" %>
